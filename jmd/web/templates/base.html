<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="{{ STATIC_URL }}js/jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="{{ STATIC_URL }}js/geoPosition.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
        if (geoPosition.init()) {  // Geolocation Initialisation
            geoPosition.getCurrentPosition(success_callback, error_callback, {enableHighAccuracy: true});
        } else {
            // You cannot use Geolocation in this device
        }
        {#    geoPositionSimulator.init();#}

        // p : geolocation object
        function success_callback(p) {
{#            alert(p);#}
            $('#id_lat').val(p.coords.latitude);
            $('#id_lng').val(p.coords.longitude);
{#                    alert(p.coords.latitude + ' -- ' + p.coords.longitude);#}
            {#            $.get("/get-geo/", {lat: p.coords.latitude, lon: p.coords.longitude})#}
            {#                    .done(function (data) {#}
            {#                        alert("Data Loaded: " + data);#}
            {#                        if (data.find) {#}
            {#                            alert(data.message);#}
            {#                            $('#id_invitation_code').val(data.inv_code);#}
            {##}
            {##}
            {#                            toastr.options = {#}
            {#                                closeButton: false,#}
            {#                                debug: false,#}
            {#                                positionClass: 'toast-top-full-width',#}
            {#                                onclick: null#}
            {#                            };#}
            {#                            toastr['info'](data.message);#}
            {#                        }#}
            {##}
            {#                    });#}
            // p.latitude : latitude value
            // p.longitude : longitude value
        }

        function error_callback(p) {
            // p.message : error message
            {#        alert('none');#}
        }
    </script>

</head>
<body>
{% block content %}

{% endblock %}
</body>
</html>